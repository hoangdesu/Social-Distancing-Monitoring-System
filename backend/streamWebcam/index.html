<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Streaming from webcam</title>
    </head>
    <body>
        <h1>Hi</h1>
        <!-- <img
            id="im"
            src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA
        AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
            9TXL0Y4OHwAAAABJRU5ErkJggg=="
            alt=""
        /> -->
        <img src="rmit.gif" alt="">
        <script src=""></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            const socket = io.connect('http://localhost:3001');
            // const sio = io();
            socket.on('image', (data) => {
                console.log(data);
                document.querySelector('#im').src = data;
            });
            console.log('HI');
            
            // console.log(navigator.mediaDevices.getUserMedia())
            setInterval(() => {
                socket.emit('image-client', 'from client');
                console.log("client sent");
            }, 1000)
            


            // if (navigator.mediaDevices.getUserMedia) {
            //     navigator.mediaDevices
            //         .getUserMedia({ video: true })
            //         .then(function (stream) {
            //             video.srcObject = stream;
            //             document.querySelector('img').src = `data:image/jpeg;base64, ${video.srcObject}`;
            //             // io.emit('image-client', 'from client');
            //         })
            //         .catch(function (error) {
            //             console.log('Something went wrong!');
            //         });
            // }
        </script>
    </body>
</html>
